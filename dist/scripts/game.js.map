{"version":3,"sources":["../../scripts/game.js"],"names":["CreateGame","interval","capacity","quantity","theme","collection","answer","Number","createCollection","index","reduce","n","sum","createBoard","numberField","board","querySelector","prototype","changeNumber","number","innerHTML","String","classList","remove","setTimeout","add","bind","gameInit","that","times","endTimer","gameEnd","performInterval","clearInterval","timer","setInterval","restartButton","hideElement","createAnswerInput","sendResult","where","result","xhr","XMLHttpRequest","body","open","setRequestHeader","send","document","createElement","heading","closeButton","numberHolder","className","style","transitionDuration","addEventListener","event","preventDefault","previousElementSibling","maxHeight","parentElement","removeChild","clearTimeout","animAlien","animShadow","answerForm","undefined","appendChild","answerField","submitAnswer","placeholder","restrictKeys","value","backgroundColor","disabled","contains","startGame","settings","gameInterface","playground","incButtons","querySelectorAll","decButtons","fields","themeOption","speed","split","game","incButton","inputControl","decButton","field","min","max","isNaN","Math","round","push","floor","random","pow","obj","time","nodeName","key","which","incValue","amount","button","role","controlledInput","nextElementSibling","step","rest","newNumber","addHomeworkList","tasks","element","taskElements","map","createHomeworkTask","forEach","task","title","startButton","taskElement","length","homeworkElement","homeworkWindow","overrideMimeType","window","location","origin","onload","status","JSON","parse","responseText","data","message","textAlign","fontSize","color","replaceChild","Error","onerror"],"mappings":"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","file":"game.js","sourcesContent":["/*  Создание игры  */\r\nfunction CreateGame(interval, capacity, quantity, theme, collection, answer) {\r\n    this.interval = Number(interval) * 1000;\r\n    this.quantity = Number(quantity);\r\n    this.capacity = Number(capacity);\r\n    this.theme = theme;\r\n    this.collection = collection || createCollection(capacity, quantity);\r\n    this.index = 0;\r\n    this.answer = answer || this.collection.reduce((n, sum) => n + sum, 0);\r\n    this.createBoard();\r\n    this.numberField = this.board.querySelector('.game__number');\r\n}\r\n\r\nCreateGame.prototype = {\r\n    /* Меняет текущий индекс и накапливает сумму */\r\n    changeNumber: function () {\r\n        let number = this.collection[this.index];\r\n        this.numberField.innerHTML = String(number);\r\n        this.numberField.classList.remove('hide');\r\n        this.index++;\r\n        setTimeout((function () {\r\n            this.numberField.classList.add('hide');\r\n        }).bind(this), this.interval * 0.8)\r\n    },\r\n    /* Начинает игру */\r\n    gameInit: function () {\r\n        let that = this;\r\n        let times = that.quantity;\r\n        /* Устанавливаем время, до окончания демонстрации, чтобы завершить игру */\r\n        that.endTimer = setTimeout(function () {\r\n            that.gameEnd();\r\n        }, (times + 1) * that.interval + 3000);\r\n        /* Выполняем показ чисел */\r\n        /* Трехсекундная задержка на подготовку */\r\n        setTimeout(function () {\r\n            function performInterval() {\r\n                if (times > 0) {\r\n                    times--;\r\n                    that.changeNumber();\r\n                } else {\r\n                    clearInterval(that.timer);\r\n                }\r\n            }\r\n\r\n            /* Задаем интервал появления чисел */\r\n            that.timer = setInterval(performInterval, that.interval);\r\n            /* Показываем кнопку restart */\r\n            that.restartButton.classList.remove('d-none');\r\n        }, 3000);\r\n        /* Делаем затемнение стартового сообщения */\r\n        setTimeout(function () {\r\n            hideElement(that.numberField, 200);\r\n        }, 2800 + that.interval)\r\n    },\r\n    /* Завершение игры */\r\n    gameEnd: function () {\r\n        let that = this;\r\n        that.numberField.classList.add('hide');\r\n        setTimeout(function () {\r\n            that.createAnswerInput();\r\n        }, this.interval * 0.2);\r\n    },\r\n    /* Записываем результат в переданное место */\r\n    sendResult: function (where, result) {\r\n        let xhr = new XMLHttpRequest();\r\n\r\n        let body = 'answer=' + `${result};${this.interval};${this.quantity};${this.capacity};${this.theme}`;\r\n\r\n        xhr.open(\"POST\", where, true);\r\n        xhr.setRequestHeader('Content-Type', 'text-plain');\r\n\r\n        xhr.send(body);\r\n    },\r\n    /* Создаем поле для игры */\r\n    createBoard: function () {\r\n        let board = document.createElement('div');\r\n        let heading = document.createElement('h2');\r\n        let closeButton = document.createElement('button');\r\n        let restartButton = document.createElement('button');\r\n        let numberHolder = document.createElement('div');\r\n        board.className = 'game-board';\r\n        heading.innerHTML = 'Numbers!';\r\n        heading.className = 'game__heading';\r\n        restartButton.className = 'game__button game__restart-button d-none';\r\n        restartButton.innerHTML = 'Заново';\r\n        closeButton.className = 'game__button game__close-button';\r\n        closeButton.innerHTML = 'Закончить';\r\n        numberHolder.className = 'game__number';\r\n        numberHolder.innerHTML = 'Вперед!';\r\n        if (this.interval) {\r\n            numberHolder.style.transitionDuration = `${this.interval * 0.2}`;\r\n        }\r\n\r\n        /*прикрепляем кнопки к игре*/\r\n        this.restartButton = restartButton;\r\n        this.closeButton = closeButton;\r\n\r\n        /*И вешаем на них обработчики*/\r\n        closeButton.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n\r\n            /* Показываем настрйки и убираем текущую игру */\r\n            board.previousElementSibling.classList.remove('hide');\r\n            board.previousElementSibling.style.maxHeight = '';\r\n            board.parentElement.removeChild(board);\r\n            clearTimeout(this.endTimer);\r\n            if (this.animAlien && this.animShadow) {\r\n                this.animAlien.classList.remove('animation_fast');\r\n                this.animShadow.classList.remove('animation_fast');\r\n            }\r\n        }).bind(this));\r\n\r\n        restartButton.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n            let that = this;\r\n            clearInterval(that.timer);\r\n            clearTimeout(that.endTimer);\r\n            /* Прячем кнопку restart, чтобы ничего не сломали, пока не пройдут анимации */\r\n            restartButton.classList.add('d-none');\r\n\r\n            /* Прячем доску */\r\n            board.classList.add('hide');\r\n            setTimeout(function () {\r\n                /* Если поле для чисел было скрыто, показываем его */\r\n                that.numberField.classList.remove('hide');\r\n                /* Убираем форму ответа, если дошли до конца и она создалась */\r\n                if (that.answerForm) {\r\n                    that.board.removeChild(that.answerForm);\r\n                    that.answerForm = undefined;\r\n                }\r\n                /* обновляем состояние игры */\r\n                that.index = 0;\r\n                that.numberField.innerHTML = 'Вперед!';\r\n                /* Показываем доску */\r\n                board.classList.remove('hide');\r\n                /* Начинаем сначала */\r\n                that.gameInit();\r\n            }, 1000)\r\n        }).bind(this));\r\n\r\n        board.appendChild(heading);\r\n        board.appendChild(numberHolder);\r\n        board.appendChild(restartButton);\r\n        board.appendChild(closeButton);\r\n\r\n        this.board = board;\r\n    },\r\n\r\n    createAnswerInput: function () {\r\n        let answerForm = document.createElement('div');\r\n        let answerField = document.createElement('input');\r\n        let submitAnswer = document.createElement('button');\r\n        answerForm.className = 'game__answer-form';\r\n        answerField.className = 'game__answer-field input_light-theme';\r\n        submitAnswer.className = 'game__answer-submit button_dark-theme';\r\n\r\n        submitAnswer.innerHTML = 'Проверить';\r\n        answerField.placeholder = 'Введите сумму чисел';\r\n        answerForm.appendChild(answerField);\r\n        answerForm.appendChild(submitAnswer);\r\n\r\n        answerField.addEventListener('keypress', restrictKeys);\r\n        submitAnswer.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n            if (answerField.value === '') {\r\n                answerField.placeholder = 'Введите ответ';\r\n                answerField.style.backgroundColor = '#ffe814';\r\n                return false;\r\n            }\r\n            if (Number(answerField.value) === this.answer) {\r\n                answerField.style.backgroundColor = '#1fc113';\r\n                answerField.value = 'Правильно!';\r\n                this.sendResult('https://your.site', 'success')\r\n            } else {\r\n                answerField.style.backgroundColor = '#ff2b0a';\r\n                answerField.value = 'Ошибка, попробуйте снова';\r\n                this.sendResult('https://your.site', 'failure')\r\n            }\r\n            answerField.disabled = true;\r\n            submitAnswer.disabled = true;\r\n        }).bind(this));\r\n\r\n        this.board.appendChild(answerForm);\r\n        this.answerForm = answerForm;\r\n    }\r\n};\r\n\r\nif (document.body.classList.contains('game-body')) {\r\n    CreateGame.prototype.animAlien = document.querySelector('.settings__animated-image');\r\n    CreateGame.prototype.animShadow = document.querySelector('.shadow');\r\n\r\n    let startGame = document.querySelector('.settings__start-game');\r\n    let settings = document.querySelector('.settings__main-window');\r\n    let gameInterface = document.querySelector('.game-interface');\r\n    let playground = document.querySelector('.playground');\r\n\r\n    let incButtons = document.querySelectorAll('.button_inc');\r\n    let decButtons = document.querySelectorAll('.button_dec');\r\n    let fields = document.querySelectorAll('.settings__input');\r\n\r\n    /*   Начало игры   */\r\n    startGame.addEventListener('click', function (event) {\r\n        event.preventDefault();\r\n\r\n        this.disabled = true;\r\n        setTimeout(function () {\r\n            this.disabled = false;\r\n        }.bind(this), 1000);\r\n\r\n        let themeOption = document.querySelector('.settings__theme-option:checked').value;\r\n        let speed = document.querySelector('.settings__speed-value').value.split(' ')[0];\r\n        let capacity = document.querySelector('.settings__capacity-value').value;\r\n        let quantity = document.querySelector('.settings__quantity-value').value;\r\n        let game = new CreateGame(speed, capacity, quantity, themeOption);\r\n        /* Как только начнется демонстрация, показываем кнопку restart */\r\n        setTimeout(function () {\r\n            game.restartButton.classList.remove('d-none');\r\n        }, 3000);\r\n\r\n        /* Убираем окно настроек */\r\n        settings.classList.add('hide');\r\n\r\n        /* Таймаут для того, чтобы прошла анимация скрывания настроек */\r\n        setTimeout(function () {\r\n            gameInterface.style.maxHeight = '85vh';\r\n            /* Показываем доску */\r\n            gameInterface.appendChild(game.board);\r\n            /* Ускоряем пришельца */\r\n            if (game.animAlien && game.animShadow) {\r\n                game.animAlien.classList.add('animation_fast');\r\n                game.animShadow.classList.add('animation_fast');\r\n            }\r\n        }, 1000);\r\n        /* Начинаем показ */\r\n        game.gameInit();\r\n    });\r\n\r\n    /* Вешаем обработчики */\r\n    for (let incButton of incButtons) {\r\n        incButton.addEventListener('click', inputControl.bind(null, incButton, 'inc'));\r\n    }\r\n\r\n    for (let decButton of decButtons) {\r\n        decButton.addEventListener('click', inputControl.bind(null, decButton, 'dec'));\r\n    }\r\n\r\n    for (let field of fields) {\r\n        field.addEventListener('keypress', restrictKeys);\r\n        field.addEventListener('focus', function () {\r\n            this.value = '';\r\n        });\r\n        field.addEventListener('blur', function () {\r\n            if (Number(this.value) < Number(this.min)) {\r\n                this.value = this.min;\r\n            }\r\n            if (Number(this.value) > Number(this.max)) {\r\n                this.value = this.max;\r\n            }\r\n            if (this.classList.contains('settings__speed-value')) {\r\n                this.value = isNaN(Number(this.value)) ? this.min + ' сек' : (Math.round(Number(this.value) * 10) / 10) + ' сек';\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/* Создает набор из случайных чисел заданного разряда */\r\nfunction createCollection(capacity, quantity) {\r\n    let collection = [];\r\n    while (quantity > 0) {\r\n        collection.push(Math.floor(Math.random() * Math.pow(10, capacity)));\r\n        quantity--;\r\n    }\r\n\r\n    return collection;\r\n}\r\n\r\n/* Скрываем обьект на заданное время */\r\nfunction hideElement(obj, time) {\r\n    if (obj && obj.nodeName) {\r\n        obj.classList.add('hide');\r\n        setTimeout(function () {\r\n            obj.classList.remove('hide');\r\n        }, time)\r\n    }\r\n}\r\n\r\n/*   Запрет на ввод символов не являющихся цифрами   */\r\nfunction restrictKeys(event) {\r\n    if (event.key === '.' && this.classList.contains('settings__speed-value')) {\r\n        return true;\r\n    }\r\n    if (!(event.which >= 48 && event.which <= 57)) {\r\n        event.preventDefault();\r\n    }\r\n}\r\n\r\n/* Увеличиваем значение на заданную величину */\r\nfunction incValue(value, amount) {\r\n    return `${Math.round((Number(value) + Number(amount)) * 10) / 10}`;\r\n}\r\n\r\n/*   Контроль полей ввода   */\r\nfunction inputControl(button, role, event) {\r\n    event.preventDefault();\r\n    let controlledInput = role === 'inc' ? button.previousElementSibling : button.nextElementSibling;\r\n    let step = role === 'inc' ? controlledInput.step : -controlledInput.step;\r\n    let [number, rest] = controlledInput.value.split(' ');\r\n    let newNumber = incValue(number, step);\r\n    if (Number(newNumber) <= Number(controlledInput.max) && Number(newNumber) >= Number(controlledInput.min)) {\r\n        controlledInput.value = rest ? newNumber + ` ${rest}` : newNumber;\r\n    }\r\n}\r\n\r\nif (document.body.classList.contains('homework-body')) {\r\n    let placeholder = document.querySelector('.loading-placeholder');\r\n    let homeworkElement = document.querySelector('.homework');\r\n    let homeworkWindow = document.querySelector('.homework-main');\r\n\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.overrideMimeType('application/json');\r\n    xhr.open('GET', `${window.location.origin}/child-app/testData/homeworkConfig.json`, true);\r\n    xhr.onload = function () {\r\n        if (xhr.status === 200) {\r\n            placeholder.parentElement.removeChild(placeholder);\r\n            addHomeworkList(JSON.parse(xhr.responseText).data, homeworkElement);\r\n        } else if (xhr.status === 404) {\r\n            let message = document.createElement('div');\r\n            message.innerHTML = 'У вас нет невыполненного домашнего задания';\r\n            message.style.textAlign = 'center';\r\n            message.style.fontSize = '1.5em';\r\n            message.style.color = '#43c40f';\r\n            homeworkElement.replaceChild(message, placeholder);\r\n        } else {\r\n            throw new Error(`Ошибка получения информации о группах (${xhr.status})`);\r\n        }\r\n    };\r\n    xhr.onerror = function () {\r\n        throw new Error(`Ошибка получения информации о группах (${xhr.status})`);\r\n    };\r\n    xhr.send();\r\n\r\n    function addHomeworkList(tasks, element) {\r\n        let taskElements = tasks.map(createHomeworkTask);\r\n        taskElements.forEach(task => element.appendChild(task));\r\n    }\r\n\r\n    function createHomeworkTask(task) {\r\n        CreateGame.prototype.animAlien = document.querySelector('.settings__animated-image');\r\n        CreateGame.prototype.animShadow = document.querySelector('.shadow');\r\n        let title = document.createElement('p');\r\n        let startButton = document.createElement('button');\r\n        let taskElement = document.createElement('div');\r\n        title.classList.add('homework__title');\r\n        startButton.classList.add('homework__start-button');\r\n        startButton.classList.add('button_dark-theme');\r\n        taskElement.classList.add('homework__task');\r\n        title.innerHTML = `Скорость: ${task.speed}, Тема: ${task.theme}`;\r\n        startButton.innerHTML = 'Выполнить';\r\n\r\n        startButton.addEventListener('click', function (event) {\r\n            event.preventDefault();\r\n\r\n            this.disabled = true;\r\n            setTimeout(function () {\r\n                this.disabled = false;\r\n            }.bind(this), 1000);\r\n\r\n            let game = new CreateGame(task.speed, 0, task.collection.length, task.theme, task.collection, task.answer);\r\n\r\n            setTimeout(function () {\r\n                game.restartButton.classList.remove('d-none');\r\n            }, 3000);\r\n\r\n            /* Убираем окно настроек */\r\n            homeworkElement.classList.add('hide');\r\n\r\n            /* Таймаут для того, чтобы прошла анимация скрывания настроек */\r\n            setTimeout(function () {\r\n                /* Показываем доску */\r\n                homeworkElement.style.maxHeight = '85vh';\r\n                homeworkElement.parentElement.appendChild(game.board);\r\n                /* Ускоряем пришельца */\r\n                if (game.animAlien && game.animShadow) {\r\n                    game.animAlien.classList.add('animation_fast');\r\n                    game.animShadow.classList.add('animation_fast');\r\n                }\r\n            }, 1000);\r\n            /* Начинаем показ */\r\n            game.gameInit();\r\n\r\n        });\r\n\r\n        taskElement.appendChild(title);\r\n        taskElement.appendChild(startButton);\r\n\r\n        return taskElement;\r\n    }\r\n}\r\n"]}