{"version":3,"sources":["../../scripts/game.js"],"names":["CreateGame","interval","capacity","quantity","themeNumber","Number","collection","createCollection","index","answer","createBoard","numberField","board","querySelector","prototype","changeNumber","number","innerHTML","String","classList","remove","setTimeout","add","bind","gameInit","that","times","endTimer","gameEnd","performInterval","clearInterval","timer","setInterval","restartButton","fade","createAnswerInput","sendResult","where","result","xhr","XMLHttpRequest","body","open","setRequestHeader","send","document","createElement","heading","closeButton","numberHolder","className","style","transitionDuration","addEventListener","event","preventDefault","settings","gameInterface","removeChild","clearTimeout","animAlien","animShadow","answerForm","undefined","appendChild","answerField","submitAnswer","placeholder","restrictKeys","value","backgroundColor","disabled","push","Math","floor","random","pow","startGame","playground","incButtons","querySelectorAll","decButtons","fields","fullscreenOn","fullscreenOff","incValue","amount","round","inputControl","button","role","controlledInput","previousElementSibling","nextElementSibling","step","split","rest","newNumber","max","min","key","contains","which","themeOption","speed","game","obj","time","nodeName","incButton","decButton","field","isNaN"],"mappings":";;;;AAAA;AACA,SAASA,UAAT,CAAoBC,QAApB,EAA8BC,QAA9B,EAAwCC,QAAxC,EAAkDC,WAAlD,EAA+D;AAC3D,SAAKH,QAAL,GAAgBI,OAAOJ,QAAP,IAAmB,IAAnC;AACA,SAAKE,QAAL,GAAgBE,OAAOF,QAAP,CAAhB;AACA,SAAKD,QAAL,GAAgBG,OAAOH,QAAP,CAAhB;AACA,SAAKE,WAAL,GAAmBC,OAAOD,WAAP,CAAnB;AACA,SAAKE,UAAL,GAAkBC,iBAAiBL,QAAjB,EAA2BC,QAA3B,CAAlB;AACA,SAAKK,KAAL,GAAa,CAAb;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,WAAL;AACA,SAAKC,WAAL,GAAmB,KAAKC,KAAL,CAAWC,aAAX,CAAyB,eAAzB,CAAnB;AACH;;AAEDb,WAAWc,SAAX,GAAuB;AACnB;AACAC,kBAAc,wBAAY;AACtB,YAAIC,SAAS,KAAKV,UAAL,CAAgB,KAAKE,KAArB,CAAb;AACA,aAAKG,WAAL,CAAiBM,SAAjB,GAA6BC,OAAOF,MAAP,CAA7B;AACA,aAAKL,WAAL,CAAiBQ,SAAjB,CAA2BC,MAA3B,CAAkC,MAAlC;AACA,aAAKX,MAAL,IAAeO,MAAf;AACA,aAAKR,KAAL;AACAa,mBAAY,YAAY;AACpB,iBAAKV,WAAL,CAAiBQ,SAAjB,CAA2BG,GAA3B,CAA+B,MAA/B;AACH,SAFU,CAERC,IAFQ,CAEH,IAFG,CAAX,EAEe,KAAKtB,QAAL,GAAgB,GAF/B;AAGH,KAXkB;AAYnB;AACAuB,cAAU,oBAAY;AAClB,YAAIC,OAAO,IAAX;AACA,YAAIC,QAAQD,KAAKtB,QAAjB;AACA;AACAsB,aAAKE,QAAL,GAAgBN,WAAW,YAAY;AACnCI,iBAAKG,OAAL;AACH,SAFe,EAEb,CAACF,QAAQ,CAAT,IAAcD,KAAKxB,QAAnB,GAA8B,IAFjB,CAAhB;AAGA;AACA;AACAoB,mBAAW,YAAY;AACnB,qBAASQ,eAAT,GAA2B;AACvB,oBAAIH,QAAQ,CAAZ,EAAe;AACXA;AACAD,yBAAKV,YAAL;AACH,iBAHD,MAGO;AACHe,kCAAcL,KAAKM,KAAnB;AACH;AACJ;AACD;AACAN,iBAAKM,KAAL,GAAaC,YAAYH,eAAZ,EAA6BJ,KAAKxB,QAAlC,CAAb;AACA;AACAwB,iBAAKQ,aAAL,CAAmBd,SAAnB,CAA6BC,MAA7B,CAAoC,QAApC;AACH,SAbD,EAaG,IAbH;AAcA;AACAC,mBAAW,YAAY;AACnBa,iBAAKT,KAAKd,WAAV,EAAuB,GAAvB;AACH,SAFD,EAEG,OAAOc,KAAKxB,QAFf;AAGH,KAxCkB;AAyCnB;AACA2B,aAAS,mBAAY;AACjB,YAAIH,OAAO,IAAX;AACAA,aAAKd,WAAL,CAAiBQ,SAAjB,CAA2BG,GAA3B,CAA+B,MAA/B;AACAD,mBAAW,YAAY;AACnBI,iBAAKU,iBAAL;AACH,SAFD,EAEG,KAAKlC,QAAL,GAAgB,GAFnB;AAGH,KAhDkB;AAiDnB;AACAmC,gBAAY,oBAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AACjC,YAAIC,MAAM,IAAIC,cAAJ,EAAV;;AAEA,YAAIC,OAAO,aAAeH,MAAf,SAAyB,KAAKrC,QAA9B,SAA0C,KAAKE,QAA/C,SAA2D,KAAKD,QAAhE,SAA4E,KAAKE,WAAjF,CAAX;;AAEAmC,YAAIG,IAAJ,CAAS,MAAT,EAAiBL,KAAjB,EAAwB,IAAxB;AACAE,YAAII,gBAAJ,CAAqB,cAArB,EAAqC,YAArC;;AAEAJ,YAAIK,IAAJ,CAASH,IAAT;AACH,KA3DkB;AA4DnB;AACA/B,iBAAa,uBAAY;AACrB,YAAIE,QAAQiC,SAASC,aAAT,CAAuB,KAAvB,CAAZ;AACA,YAAIC,UAAUF,SAASC,aAAT,CAAuB,IAAvB,CAAd;AACA,YAAIE,cAAcH,SAASC,aAAT,CAAuB,QAAvB,CAAlB;AACA,YAAIb,gBAAgBY,SAASC,aAAT,CAAuB,QAAvB,CAApB;AACA,YAAIG,eAAeJ,SAASC,aAAT,CAAuB,KAAvB,CAAnB;AACAlC,cAAMsC,SAAN,GAAkB,YAAlB;AACAH,gBAAQ9B,SAAR,GAAoB,UAApB;AACA8B,gBAAQG,SAAR,GAAoB,eAApB;AACAjB,sBAAciB,SAAd,GAA0B,0CAA1B;AACAjB,sBAAchB,SAAd,GAA0B,QAA1B;AACA+B,oBAAYE,SAAZ,GAAwB,iCAAxB;AACAF,oBAAY/B,SAAZ,GAAwB,WAAxB;AACAgC,qBAAaC,SAAb,GAAyB,cAAzB;AACAD,qBAAahC,SAAb,GAAyB,SAAzB;AACA,YAAI,KAAKhB,QAAT,EAAmB;AACfgD,yBAAaE,KAAb,CAAmBC,kBAAnB,GAAwC,KAAKnD,QAAL,GAAgB,GAAxD;AACH;;AAED;AACA,aAAKgC,aAAL,GAAqBA,aAArB;AACA,aAAKe,WAAL,GAAmBA,WAAnB;;AAEA;AACAA,oBAAYK,gBAAZ,CAA6B,OAA7B,EAAuC,UAAUC,KAAV,EAAiB;AACpDA,kBAAMC,cAAN;;AAEA;AACAC,qBAASrC,SAAT,CAAmBC,MAAnB,CAA0B,MAA1B;AACAqC,0BAAcC,WAAd,CAA0B9C,KAA1B;AACA+C,yBAAa,KAAKhC,QAAlB;AACA,iBAAKiC,SAAL,CAAezC,SAAf,CAAyBC,MAAzB,CAAgC,gBAAhC;AACA,iBAAKyC,UAAL,CAAgB1C,SAAhB,CAA0BC,MAA1B,CAAiC,gBAAjC;AACH,SATqC,CASnCG,IATmC,CAS9B,IAT8B,CAAtC;;AAWAU,sBAAcoB,gBAAd,CAA+B,OAA/B,EAAyC,UAAUC,KAAV,EAAiB;AACtDA,kBAAMC,cAAN;AACA,gBAAI9B,OAAO,IAAX;AACAK,0BAAcL,KAAKM,KAAnB;AACA4B,yBAAalC,KAAKE,QAAlB;AACA;AACAM,0BAAcd,SAAd,CAAwBG,GAAxB,CAA4B,QAA5B;;AAEA;AACAV,kBAAMO,SAAN,CAAgBG,GAAhB,CAAoB,MAApB;AACAD,uBAAW,YAAY;AACnB;AACAI,qBAAKd,WAAL,CAAiBQ,SAAjB,CAA2BC,MAA3B,CAAkC,MAAlC;AACA;AACA,oBAAIK,KAAKqC,UAAT,EAAqB;AACjBrC,yBAAKb,KAAL,CAAW8C,WAAX,CAAuBjC,KAAKqC,UAA5B;AACArC,yBAAKqC,UAAL,GAAkBC,SAAlB;AACH;AACD;AACAtC,qBAAKjB,KAAL,GAAa,CAAb;AACAiB,qBAAKhB,MAAL,GAAc,CAAd;AACAgB,qBAAKd,WAAL,CAAiBM,SAAjB,GAA6B,SAA7B;AACA;AACAL,sBAAMO,SAAN,CAAgBC,MAAhB,CAAuB,MAAvB;AACA;AACAK,qBAAKD,QAAL;AACH,aAhBD,EAgBG,IAhBH;AAiBH,SA3BuC,CA2BrCD,IA3BqC,CA2BhC,IA3BgC,CAAxC;;AA6BAX,cAAMoD,WAAN,CAAkBjB,OAAlB;AACAnC,cAAMoD,WAAN,CAAkBf,YAAlB;AACArC,cAAMoD,WAAN,CAAkB/B,aAAlB;AACArB,cAAMoD,WAAN,CAAkBhB,WAAlB;;AAEA,aAAKpC,KAAL,GAAaA,KAAb;AACH,KAnIkB;;AAqInBuB,uBAAmB,6BAAY;AAC3B,YAAI2B,aAAajB,SAASC,aAAT,CAAuB,KAAvB,CAAjB;AACA,YAAImB,cAAcpB,SAASC,aAAT,CAAuB,OAAvB,CAAlB;AACA,YAAIoB,eAAerB,SAASC,aAAT,CAAuB,QAAvB,CAAnB;AACAgB,mBAAWZ,SAAX,GAAuB,mBAAvB;AACAe,oBAAYf,SAAZ,GAAwB,sCAAxB;AACAgB,qBAAahB,SAAb,GAAyB,uCAAzB;;AAEAgB,qBAAajD,SAAb,GAAyB,WAAzB;AACAgD,oBAAYE,WAAZ,GAA0B,qBAA1B;AACAL,mBAAWE,WAAX,CAAuBC,WAAvB;AACAH,mBAAWE,WAAX,CAAuBE,YAAvB;;AAEAD,oBAAYZ,gBAAZ,CAA6B,UAA7B,EAAyCe,YAAzC;AACAF,qBAAab,gBAAb,CAA8B,OAA9B,EAAwC,UAAUC,KAAV,EAAiB;AACrDA,kBAAMC,cAAN;AACA,gBAAIU,YAAYI,KAAZ,KAAsB,EAA1B,EAA8B;AAC1BJ,4BAAYE,WAAZ,GAA0B,eAA1B;AACAF,4BAAYd,KAAZ,CAAkBmB,eAAlB,GAAoC,SAApC;AACA,uBAAO,KAAP;AACH;AACD,gBAAIjE,OAAO4D,YAAYI,KAAnB,MAA8B,KAAK5D,MAAvC,EAA+C;AAC3CwD,4BAAYd,KAAZ,CAAkBmB,eAAlB,GAAoC,SAApC;AACAL,4BAAYI,KAAZ,GAAoB,YAApB;AACA,qBAAKjC,UAAL,CAAgB,mBAAhB,EAAqC,SAArC;AACH,aAJD,MAIO;AACH6B,4BAAYd,KAAZ,CAAkBmB,eAAlB,GAAoC,SAApC;AACAL,4BAAYI,KAAZ,GAAoB,0BAApB;AACA,qBAAKjC,UAAL,CAAgB,mBAAhB,EAAqC,SAArC;AACH;AACD6B,wBAAYM,QAAZ,GAAuB,IAAvB;AACAL,yBAAaK,QAAb,GAAwB,IAAxB;AACH,SAlBsC,CAkBpChD,IAlBoC,CAkB/B,IAlB+B,CAAvC;;AAoBA,aAAKX,KAAL,CAAWoD,WAAX,CAAuBF,UAAvB;AACA,aAAKA,UAAL,GAAkBA,UAAlB;AACH,KAzKkB;;AA2KnBF,eAAWf,SAAShC,aAAT,CAAuB,2BAAvB,CA3KQ;AA4KnBgD,gBAAYhB,SAAShC,aAAT,CAAuB,SAAvB;AA5KO,CAAvB;;AA+KA;AACA,SAASN,gBAAT,CAA0BL,QAA1B,EAAoCC,QAApC,EAA8C;AAC1C,QAAIG,aAAa,EAAjB;AACA,WAAOH,WAAW,CAAlB,EAAqB;AACjBG,mBAAWkE,IAAX,CAAgBC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBF,KAAKG,GAAL,CAAS,EAAT,EAAa1E,QAAb,CAA3B,CAAhB;AACAC;AACH;;AAED,WAAOG,UAAP;AACH;;AAED,IAAIuE,YAAYhC,SAAShC,aAAT,CAAuB,uBAAvB,CAAhB;AACA,IAAI2C,WAAWX,SAAShC,aAAT,CAAuB,wBAAvB,CAAf;AACA,IAAI4C,gBAAgBZ,SAAShC,aAAT,CAAuB,iBAAvB,CAApB;AACA,IAAIiE,aAAajC,SAAShC,aAAT,CAAuB,aAAvB,CAAjB;;AAEA,IAAIkE,aAAalC,SAASmC,gBAAT,CAA0B,aAA1B,CAAjB;AACA,IAAIC,aAAapC,SAASmC,gBAAT,CAA0B,aAA1B,CAAjB;AACA,IAAIE,SAASrC,SAASmC,gBAAT,CAA0B,kBAA1B,CAAb;AACA,IAAIG,eAAetC,SAAShC,aAAT,CAAuB,sBAAvB,CAAnB;AACA,IAAIuE,gBAAgBvC,SAAShC,aAAT,CAAuB,uBAAvB,CAApB;;AAEA;AACA,IAAIwE,WAAW,SAAXA,QAAW,CAAUhB,KAAV,EAAiBiB,MAAjB,EAAyB;AACpC,gBAAUb,KAAKc,KAAL,CAAW,CAAClF,OAAOgE,KAAP,IAAgBhE,OAAOiF,MAAP,CAAjB,IAAmC,EAA9C,IAAoD,EAA9D;AACH,CAFD;;AAIA;AACA,IAAIE,eAAe,SAAfA,YAAe,CAAUC,MAAV,EAAkBC,IAAlB,EAAwBpC,KAAxB,EAA+B;AAC9CA,UAAMC,cAAN;AACA,QAAIoC,kBAAkBD,SAAS,KAAT,GAAiBD,OAAOG,sBAAxB,GAAiDH,OAAOI,kBAA9E;AACA,QAAIC,OAAOJ,SAAS,KAAT,GAAiBC,gBAAgBG,IAAjC,GAAwC,CAACH,gBAAgBG,IAApE;;AAH8C,gCAIzBH,gBAAgBtB,KAAhB,CAAsB0B,KAAtB,CAA4B,GAA5B,CAJyB;AAAA;AAAA,QAIzC/E,MAJyC;AAAA,QAIjCgF,IAJiC;;AAK9C,QAAIC,YAAYZ,SAASrE,MAAT,EAAiB8E,IAAjB,CAAhB;AACA,QAAIzF,OAAO4F,SAAP,KAAqB5F,OAAOsF,gBAAgBO,GAAvB,CAArB,IAAoD7F,OAAO4F,SAAP,KAAqB5F,OAAOsF,gBAAgBQ,GAAvB,CAA7E,EAA0G;AACtGR,wBAAgBtB,KAAhB,GAAwB2B,OAAOC,mBAAgBD,IAAhB,CAAP,GAAgCC,SAAxD;AACH;AACJ,CATD;;AAWA;AACA,IAAI7B,eAAe,SAAfA,YAAe,CAAUd,KAAV,EAAiB;AAChC,QAAIA,MAAM8C,GAAN,KAAc,GAAd,IAAqB,KAAKjF,SAAL,CAAekF,QAAf,CAAwB,uBAAxB,CAAzB,EAA2E;AACvE,eAAO,IAAP;AACH;AACD,QAAI,EAAE/C,MAAMgD,KAAN,IAAe,EAAf,IAAqBhD,MAAMgD,KAAN,IAAe,EAAtC,CAAJ,EAA+C;AAC3ChD,cAAMC,cAAN;AACH;AACJ,CAPD;;AASA4B,aAAa9B,gBAAb,CAA8B,OAA9B,EAAuC,UAAUC,KAAV,EAAiB;AACpDA,UAAMC,cAAN;AACAuB,eAAW3D,SAAX,CAAqBG,GAArB,CAAyB,wBAAzB;AACA,SAAKH,SAAL,CAAeC,MAAf,CAAsB,YAAtB;AACAgE,kBAAcjE,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;AACH,CALD;;AAOAgE,cAAc/B,gBAAd,CAA+B,OAA/B,EAAwC,UAAUC,KAAV,EAAiB;AACrDA,UAAMC,cAAN;AACAuB,eAAW3D,SAAX,CAAqBC,MAArB,CAA4B,wBAA5B;AACA,SAAKD,SAAL,CAAeG,GAAf,CAAmB,QAAnB;AACA6D,iBAAahE,SAAb,CAAuBG,GAAvB,CAA2B,YAA3B;AACH,CALD;;AAOA;AACAuD,UAAUxB,gBAAV,CAA2B,OAA3B,EAAoC,UAAUC,KAAV,EAAiB;AACjDA,UAAMC,cAAN;;AAEA,QAAIgD,cAAc1D,SAAShC,aAAT,CAAuB,iCAAvB,EAA0DwD,KAA5E;AACA,QAAImC,QAAQ3D,SAAShC,aAAT,CAAuB,wBAAvB,EAAiDwD,KAAjD,CAAuD0B,KAAvD,CAA6D,GAA7D,EAAkE,CAAlE,CAAZ;AACA,QAAI7F,WAAW2C,SAAShC,aAAT,CAAuB,2BAAvB,EAAoDwD,KAAnE;AACA,QAAIlE,WAAW0C,SAAShC,aAAT,CAAuB,2BAAvB,EAAoDwD,KAAnE;AACA,QAAIoC,OAAO,IAAIzG,UAAJ,CAAewG,KAAf,EAAsBtG,QAAtB,EAAgCC,QAAhC,EAA0CoG,WAA1C,CAAX;AACA;AACAlF,eAAW,YAAY;AACnBoF,aAAKxE,aAAL,CAAmBd,SAAnB,CAA6BC,MAA7B,CAAoC,QAApC;AACH,KAFD,EAEG,IAFH;;AAIA;AACAoC,aAASrC,SAAT,CAAmBG,GAAnB,CAAuB,MAAvB;;AAEA;AACAD,eAAW,YAAY;AACnB;AACAoC,sBAAcO,WAAd,CAA0ByC,KAAK7F,KAA/B;AACA;AACA6F,aAAK7C,SAAL,CAAezC,SAAf,CAAyBG,GAAzB,CAA6B,gBAA7B;AACAmF,aAAK5C,UAAL,CAAgB1C,SAAhB,CAA0BG,GAA1B,CAA8B,gBAA9B;AACH,KAND,EAMG,IANH;AAOA;AACAmF,SAAKjF,QAAL;AACH,CA1BD;;AA4BA;AACA,SAASU,IAAT,CAAcwE,GAAd,EAAmBC,IAAnB,EAAyB;AACrB,QAAID,OAAOA,IAAIE,QAAf,EAAyB;AACrBF,YAAIvF,SAAJ,CAAcG,GAAd,CAAkB,MAAlB;AACAD,mBAAW,YAAY;AACnBqF,gBAAIvF,SAAJ,CAAcC,MAAd,CAAqB,MAArB;AACH,SAFD,EAEGuF,IAFH;AAGH;AACJ;;AAED;;;;;;AACA,yBAAsB5B,UAAtB,8HAAkC;AAAA,YAAzB8B,SAAyB;;AAC9BA,kBAAUxD,gBAAV,CAA2B,OAA3B,EAAoCmC,aAAajE,IAAb,CAAkB,IAAlB,EAAwBsF,SAAxB,EAAmC,KAAnC,CAApC;AACH;;;;;;;;;;;;;;;;;;;;;AAED,0BAAsB5B,UAAtB,mIAAkC;AAAA,YAAzB6B,SAAyB;;AAC9BA,kBAAUzD,gBAAV,CAA2B,OAA3B,EAAoCmC,aAAajE,IAAb,CAAkB,IAAlB,EAAwBuF,SAAxB,EAAmC,KAAnC,CAApC;AACH;;;;;;;;;;;;;;;;;;;;;AAED,0BAAkB5B,MAAlB,mIAA0B;AAAA,YAAjB6B,KAAiB;;AACtBA,cAAM1D,gBAAN,CAAuB,UAAvB,EAAmCe,YAAnC;AACA2C,cAAM1D,gBAAN,CAAuB,OAAvB,EAAgC,YAAY;AACxC,iBAAKgB,KAAL,GAAa,EAAb;AACH,SAFD;AAGA0C,cAAM1D,gBAAN,CAAuB,MAAvB,EAA+B,YAAY;AACvC,gBAAIhD,OAAO,KAAKgE,KAAZ,IAAqBhE,OAAO,KAAK8F,GAAZ,CAAzB,EAA2C;AACvC,qBAAK9B,KAAL,GAAa,KAAK8B,GAAlB;AACH;AACD,gBAAI9F,OAAO,KAAKgE,KAAZ,IAAqBhE,OAAO,KAAK6F,GAAZ,CAAzB,EAA2C;AACvC,qBAAK7B,KAAL,GAAa,KAAK6B,GAAlB;AACH;AACD,gBAAI,KAAK/E,SAAL,CAAekF,QAAf,CAAwB,uBAAxB,CAAJ,EAAsD;AAClD,qBAAKhC,KAAL,GAAa2C,MAAM3G,OAAO,KAAKgE,KAAZ,CAAN,IAA4B,KAAK8B,GAAL,GAAW,MAAvC,GAAiD1B,KAAKc,KAAL,CAAWlF,OAAO,KAAKgE,KAAZ,IAAqB,EAAhC,IAAsC,EAAvC,GAA6C,MAA1G;AACH;AACJ,SAVD;AAWH","file":"game.js","sourcesContent":["/*  Создание игры  */\r\nfunction CreateGame(interval, capacity, quantity, themeNumber) {\r\n    this.interval = Number(interval) * 1000;\r\n    this.quantity = Number(quantity);\r\n    this.capacity = Number(capacity);\r\n    this.themeNumber = Number(themeNumber);\r\n    this.collection = createCollection(capacity, quantity);\r\n    this.index = 0;\r\n    this.answer = 0;\r\n    this.createBoard();\r\n    this.numberField = this.board.querySelector('.game__number');\r\n}\r\n\r\nCreateGame.prototype = {\r\n    /* Меняет текущий индекс и накапливает сумму */\r\n    changeNumber: function () {\r\n        let number = this.collection[this.index];\r\n        this.numberField.innerHTML = String(number);\r\n        this.numberField.classList.remove('hide');\r\n        this.answer += number;\r\n        this.index++;\r\n        setTimeout((function () {\r\n            this.numberField.classList.add('hide');\r\n        }).bind(this), this.interval * 0.8)\r\n    },\r\n    /* Начинает игру */\r\n    gameInit: function () {\r\n        let that = this;\r\n        let times = that.quantity;\r\n        /* Устанавливаем время, до окончания демонстрации, чтобы завершить игру */\r\n        that.endTimer = setTimeout(function () {\r\n            that.gameEnd();\r\n        }, (times + 1) * that.interval + 3000);\r\n        /* Выполняем показ чисел */\r\n        /* Трехсекундная задержка на подготовку */\r\n        setTimeout(function () {\r\n            function performInterval() {\r\n                if (times > 0) {\r\n                    times--;\r\n                    that.changeNumber();\r\n                } else {\r\n                    clearInterval(that.timer);\r\n                }\r\n            }\r\n            /* Задаем интервал появления чисел */\r\n            that.timer = setInterval(performInterval, that.interval);\r\n            /* Показываем кнопку restart */\r\n            that.restartButton.classList.remove('d-none');\r\n        }, 3000);\r\n        /* Делаем затемнение стартового сообщения */\r\n        setTimeout(function () {\r\n            fade(that.numberField, 200);\r\n        }, 2800 + that.interval)\r\n    },\r\n    /* Завершение игры */\r\n    gameEnd: function () {\r\n        let that = this;\r\n        that.numberField.classList.add('hide');\r\n        setTimeout(function () {\r\n            that.createAnswerInput();\r\n        }, this.interval * 0.2);\r\n    },\r\n    /* Записываем результат в переданное место */\r\n    sendResult: function (where, result) {\r\n        let xhr = new XMLHttpRequest();\r\n\r\n        let body = 'answer=' + `${result};${this.interval};${this.quantity};${this.capacity};${this.themeNumber}`;\r\n\r\n        xhr.open(\"POST\", where, true);\r\n        xhr.setRequestHeader('Content-Type', 'text-plain');\r\n\r\n        xhr.send(body);\r\n    },\r\n    /* Создаем поле для игры */\r\n    createBoard: function () {\r\n        let board = document.createElement('div');\r\n        let heading = document.createElement('h2');\r\n        let closeButton = document.createElement('button');\r\n        let restartButton = document.createElement('button');\r\n        let numberHolder = document.createElement('div');\r\n        board.className = 'game-board';\r\n        heading.innerHTML = 'Numbers!';\r\n        heading.className = 'game__heading';\r\n        restartButton.className = 'game__button game__restart-button d-none';\r\n        restartButton.innerHTML = 'Заново';\r\n        closeButton.className = 'game__button game__close-button';\r\n        closeButton.innerHTML = 'Закончить';\r\n        numberHolder.className = 'game__number';\r\n        numberHolder.innerHTML = 'Вперед!';\r\n        if (this.interval) {\r\n            numberHolder.style.transitionDuration = this.interval * 0.2;\r\n        }\r\n\r\n        /*прикрепляем кнопки к игре*/\r\n        this.restartButton = restartButton;\r\n        this.closeButton = closeButton;\r\n\r\n        /*И вешаем на них обработчики*/\r\n        closeButton.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n\r\n            /* Показываем настрйки и убираем текущую игру */\r\n            settings.classList.remove('hide');\r\n            gameInterface.removeChild(board);\r\n            clearTimeout(this.endTimer);\r\n            this.animAlien.classList.remove('animation_fast');\r\n            this.animShadow.classList.remove('animation_fast');\r\n        }).bind(this));\r\n\r\n        restartButton.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n            let that = this;\r\n            clearInterval(that.timer);\r\n            clearTimeout(that.endTimer);\r\n            /* Прячем кнопку restart, чтобы ничего не сломали, пока не пройдут анимации */\r\n            restartButton.classList.add('d-none');\r\n\r\n            /* Прячем доску */\r\n            board.classList.add('hide');\r\n            setTimeout(function () {\r\n                /* Если поле для чисел было скрыто, показываем его */\r\n                that.numberField.classList.remove('hide');\r\n                /* Убираем форму ответа, если дошли до конца и она создалась */\r\n                if (that.answerForm) {\r\n                    that.board.removeChild(that.answerForm);\r\n                    that.answerForm = undefined;\r\n                }\r\n                /* обновляем состояние игры */\r\n                that.index = 0;\r\n                that.answer = 0;\r\n                that.numberField.innerHTML = 'Вперед!';\r\n                /* Показываем доску */\r\n                board.classList.remove('hide');\r\n                /* Начинаем сначала */\r\n                that.gameInit();\r\n            }, 1000)\r\n        }).bind(this));\r\n\r\n        board.appendChild(heading);\r\n        board.appendChild(numberHolder);\r\n        board.appendChild(restartButton);\r\n        board.appendChild(closeButton);\r\n\r\n        this.board = board;\r\n    },\r\n\r\n    createAnswerInput: function () {\r\n        let answerForm = document.createElement('div');\r\n        let answerField = document.createElement('input');\r\n        let submitAnswer = document.createElement('button');\r\n        answerForm.className = 'game__answer-form';\r\n        answerField.className = 'game__answer-field input_light-theme';\r\n        submitAnswer.className = 'game__answer-submit button_dark-theme';\r\n\r\n        submitAnswer.innerHTML = 'Проверить';\r\n        answerField.placeholder = 'Введите сумму чисел';\r\n        answerForm.appendChild(answerField);\r\n        answerForm.appendChild(submitAnswer);\r\n\r\n        answerField.addEventListener('keypress', restrictKeys);\r\n        submitAnswer.addEventListener('click', (function (event) {\r\n            event.preventDefault();\r\n            if (answerField.value === '') {\r\n                answerField.placeholder = 'Введите ответ';\r\n                answerField.style.backgroundColor = '#ffe814';\r\n                return false;\r\n            }\r\n            if (Number(answerField.value) === this.answer) {\r\n                answerField.style.backgroundColor = '#1fc113';\r\n                answerField.value = 'Правильно!';\r\n                this.sendResult('https://your.site', 'success')\r\n            } else {\r\n                answerField.style.backgroundColor = '#ff2b0a';\r\n                answerField.value = 'Ошибка, попробуйте снова';\r\n                this.sendResult('https://your.site', 'failure')\r\n            }\r\n            answerField.disabled = true;\r\n            submitAnswer.disabled = true;\r\n        }).bind(this));\r\n\r\n        this.board.appendChild(answerForm);\r\n        this.answerForm = answerForm;\r\n    },\r\n\r\n    animAlien: document.querySelector('.settings__animated-image'),\r\n    animShadow: document.querySelector('.shadow')\r\n};\r\n\r\n/* Создает набор из случайных чисел заданного разряда */\r\nfunction createCollection(capacity, quantity) {\r\n    let collection = [];\r\n    while (quantity > 0) {\r\n        collection.push(Math.floor(Math.random() * Math.pow(10, capacity)));\r\n        quantity--;\r\n    }\r\n\r\n    return collection;\r\n}\r\n\r\nlet startGame = document.querySelector('.settings__start-game');\r\nlet settings = document.querySelector('.settings__main-window');\r\nlet gameInterface = document.querySelector('.game-interface');\r\nlet playground = document.querySelector('.playground');\r\n\r\nlet incButtons = document.querySelectorAll('.button_inc');\r\nlet decButtons = document.querySelectorAll('.button_dec');\r\nlet fields = document.querySelectorAll('.settings__input');\r\nlet fullscreenOn = document.querySelector('.game__fullscreen-on');\r\nlet fullscreenOff = document.querySelector('.game__fullscreen-off');\r\n\r\n/* Увеличиваем значение на заданную величину */\r\nlet incValue = function (value, amount) {\r\n    return `${Math.round((Number(value) + Number(amount)) * 10) / 10}`;\r\n};\r\n\r\n/*   Контроль полей ввода   */\r\nlet inputControl = function (button, role, event) {\r\n    event.preventDefault();\r\n    let controlledInput = role === 'inc' ? button.previousElementSibling : button.nextElementSibling;\r\n    let step = role === 'inc' ? controlledInput.step : -controlledInput.step;\r\n    let [number, rest] = controlledInput.value.split(' ');\r\n    let newNumber = incValue(number, step);\r\n    if (Number(newNumber) <= Number(controlledInput.max) && Number(newNumber) >= Number(controlledInput.min)) {\r\n        controlledInput.value = rest ? newNumber + ` ${rest}` : newNumber;\r\n    }\r\n};\r\n\r\n/*   Запрет на ввод символов не являющихся цифрами   */\r\nlet restrictKeys = function (event) {\r\n    if (event.key === '.' && this.classList.contains('settings__speed-value')) {\r\n        return true;\r\n    }\r\n    if (!(event.which >= 48 && event.which <= 57)) {\r\n        event.preventDefault();\r\n    }\r\n};\r\n\r\nfullscreenOn.addEventListener('click', function (event) {\r\n    event.preventDefault();\r\n    playground.classList.add('game-window_fullscreen');\r\n    this.classList.remove('d-md-block');\r\n    fullscreenOff.classList.remove('d-none');\r\n});\r\n\r\nfullscreenOff.addEventListener('click', function (event) {\r\n    event.preventDefault();\r\n    playground.classList.remove('game-window_fullscreen');\r\n    this.classList.add('d-none');\r\n    fullscreenOn.classList.add('d-md-block');\r\n});\r\n\r\n/*   Начало игры   */\r\nstartGame.addEventListener('click', function (event) {\r\n    event.preventDefault();\r\n\r\n    let themeOption = document.querySelector('.settings__theme-option:checked').value;\r\n    let speed = document.querySelector('.settings__speed-value').value.split(' ')[0];\r\n    let capacity = document.querySelector('.settings__capacity-value').value;\r\n    let quantity = document.querySelector('.settings__quantity-value').value;\r\n    let game = new CreateGame(speed, capacity, quantity, themeOption);\r\n    /* Как только начнется демонстрация, показываем кнопку restart */\r\n    setTimeout(function () {\r\n        game.restartButton.classList.remove('d-none');\r\n    }, 3000);\r\n\r\n    /* Убираем окно настроек */\r\n    settings.classList.add('hide');\r\n\r\n    /* Таймаут для того, чтобы прошла анимация скрывания настроек */\r\n    setTimeout(function () {\r\n        /* Показываем доску */\r\n        gameInterface.appendChild(game.board);\r\n        /* Ускоряем пришельца */\r\n        game.animAlien.classList.add('animation_fast');\r\n        game.animShadow.classList.add('animation_fast');\r\n    }, 1000);\r\n    /* Начинаем показ */\r\n    game.gameInit();\r\n});\r\n\r\n/* Скрываем обьект на заданное время */\r\nfunction fade(obj, time) {\r\n    if (obj && obj.nodeName) {\r\n        obj.classList.add('hide');\r\n        setTimeout(function () {\r\n            obj.classList.remove('hide');\r\n        }, time)\r\n    }\r\n}\r\n\r\n/* Вешаем обработчики */\r\nfor (let incButton of incButtons) {\r\n    incButton.addEventListener('click', inputControl.bind(null, incButton, 'inc'));\r\n}\r\n\r\nfor (let decButton of decButtons) {\r\n    decButton.addEventListener('click', inputControl.bind(null, decButton, 'dec'));\r\n}\r\n\r\nfor (let field of fields) {\r\n    field.addEventListener('keypress', restrictKeys);\r\n    field.addEventListener('focus', function () {\r\n        this.value = '';\r\n    });\r\n    field.addEventListener('blur', function () {\r\n        if (Number(this.value) < Number(this.min)) {\r\n            this.value = this.min;\r\n        }\r\n        if (Number(this.value) > Number(this.max)) {\r\n            this.value = this.max;\r\n        }\r\n        if (this.classList.contains('settings__speed-value')) {\r\n            this.value = isNaN(Number(this.value)) ? this.min + ' сек' : (Math.round(Number(this.value) * 10) / 10) + ' сек';\r\n        }\r\n    });\r\n}"]}