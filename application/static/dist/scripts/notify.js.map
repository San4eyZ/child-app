{"version":3,"sources":["../../scripts/notify.js"],"names":["bgColors","success","failure","warning","confirm","colors","types","notify","isFixed","message","type","cb","element","document","body","TypeError","Error","messageWindow","createElement","classList","add","messageText","innerHTML","okButton","overlay","notifyStyles","position","backgroundColor","color","addEventListener","removeMessage","appendChild","cancelButton","removeEventListener","event","preventDefault","Object","assign","style","insertBefore","firstElementChild","removeChild"],"mappings":";;AAAA,IAAIA,WAAW;AACXC,aAAS,SADE;AAEXC,aAAS,SAFE;AAGXC,aAAS,SAHE;AAIXC,aAAS;AACT;AALW,CAAf;AAOA,IAAIC,SAAS;AACTJ,aAAS,SADA;AAETC,aAAS,SAFA;AAGTC,aAAS,SAHA;AAITC,aAAS;AACT;AALS,CAAb;AAOA,IAAIE,QAAQ;AACRH,aAAS,SADD;AAERF,aAAS,SAFD;AAGRC,aAAS,SAHD;AAIRE,aAAS;AAJD,CAAZ;;AAOA,SAASG,MAAT,CAAgBC,OAAhB,EAAyBC,OAAzB,EAAkCC,IAAlC,EAAwCC,EAAxC,EAAqE;AAAA,QAAzBC,OAAyB,uEAAfC,SAASC,IAAM;;AACjE,QAAI,CAACR,MAAMI,IAAN,CAAL,EAAkB;AACd,cAAM,IAAIK,SAAJ,kNAAwDL,IAAxD,CAAN;AACH;AACD,QAAIA,SAAS,SAAT,IAAsB,OAAOC,EAAP,KAAc,UAAxC,EAAoD;AAChD,cAAM,IAAIK,KAAJ,CAAU,gDAAV,CAAN;AACH;AACD,QAAIC,gBAAgBJ,SAASK,aAAT,CAAuB,KAAvB,CAApB;AACAD,kBAAcE,SAAd,CAAwBC,GAAxB,CAA4B,gBAA5B;AACA,QAAIC,cAAcR,SAASK,aAAT,CAAuB,GAAvB,CAAlB;AACAG,gBAAYC,SAAZ,GAAwBb,OAAxB;AACAY,gBAAYF,SAAZ,CAAsBC,GAAtB,CAA0B,cAA1B;AACA,QAAIG,WAAWV,SAASK,aAAT,CAAuB,QAAvB,CAAf;AACAK,aAASD,SAAT,GAAqB,IAArB;AACAC,aAASJ,SAAT,CAAmBC,GAAnB,aAAiCV,IAAjC,aAA+C,gBAA/C;AACA,QAAIc,UAAUX,SAASK,aAAT,CAAuB,KAAvB,CAAd;AACAM,YAAQL,SAAR,CAAkBC,GAAlB,CAAsB,iBAAtB;;AAEA,QAAIK,eAAe;AACfC,kBAAUlB,UAAU,OAAV,GAAoB,UADf;AAEfmB,yBAAiB3B,SAASU,IAAT,CAFF;AAGfkB,eAAOvB,OAAOK,IAAP;AAHQ,KAAnB;;AAMAc,YAAQK,gBAAR,CAAyB,OAAzB,EAAkCC,aAAlC;AACAP,aAASM,gBAAT,CAA0B,OAA1B,EAAmCC,aAAnC;;AAEAb,kBAAcc,WAAd,CAA0BV,WAA1B;AACAJ,kBAAcc,WAAd,CAA0BR,QAA1B;AACA,QAAIb,SAAS,SAAb,EAAwB;AACpB,YAAIsB,eAAenB,SAASK,aAAT,CAAuB,QAAvB,CAAnB;AACAc,qBAAab,SAAb,CAAuBC,GAAvB,CAA2B,gBAA3B,EAA6C,0BAA7C;AACAY,qBAAaV,SAAb,GAAyB,QAAzB;AACAL,sBAAcc,WAAd,CAA0BC,YAA1B;;AAEAT,iBAASU,mBAAT,CAA6B,OAA7B,EAAsCH,aAAtC;AACAE,qBAAaH,gBAAb,CAA8B,OAA9B,EAAuCC,aAAvC;AACAP,iBAASM,gBAAT,CAA0B,OAA1B,EAAmC,UAAUK,KAAV,EAAiB;AAChDA,kBAAMC,cAAN;AACAL,0BAAcI,KAAd;AACAvB;AACH,SAJD;AAKH;;AAEDyB,WAAOC,MAAP,CAAcpB,cAAcqB,KAA5B,EAAmCb,YAAnC;;AAEAb,YAAQ2B,YAAR,CAAqBtB,aAArB,EAAoCL,QAAQ4B,iBAA5C;AACA5B,YAAQ2B,YAAR,CAAqBf,OAArB,EAA8BP,aAA9B;;AAEA,aAASa,aAAT,CAAuBI,KAAvB,EAA8B;AAC1BA,cAAMC,cAAN;AACAvB,gBAAQ6B,WAAR,CAAoBxB,aAApB;AACAL,gBAAQ6B,WAAR,CAAoBjB,OAApB;AACH;AACJ","file":"notify.js","sourcesContent":["let bgColors = {\r\n    success: '#dff2bf',\r\n    failure: '#ffbaba',\r\n    warning: '#bde5f8',\r\n    confirm: '#ffae7e'\r\n    // warning: '#feefb3'\r\n};\r\nlet colors = {\r\n    success: '#4f8a10',\r\n    failure: '#d6010e',\r\n    warning: '#00529b',\r\n    confirm: '#4a2359'\r\n    // warning: '#9f6000'\r\n};\r\nlet types = {\r\n    warning: 'warning',\r\n    success: 'success',\r\n    failure: 'failure',\r\n    confirm: 'confirm'\r\n};\r\n\r\nfunction notify(isFixed, message, type, cb, element = document.body) {\r\n    if (!types[type]) {\r\n        throw new TypeError(`Неверное имя типа Уведомления. Принято ${type}`);\r\n    }\r\n    if (type === 'confirm' && typeof cb !== 'function') {\r\n        throw new Error('Не задана функция обратного вызова для confirm');\r\n    }\r\n    let messageWindow = document.createElement('div');\r\n    messageWindow.classList.add('message-window');\r\n    let messageText = document.createElement('p');\r\n    messageText.innerHTML = message;\r\n    messageText.classList.add('message-text');\r\n    let okButton = document.createElement('button');\r\n    okButton.innerHTML = 'Ок';\r\n    okButton.classList.add(`button_${type}-theme`, 'message-button');\r\n    let overlay = document.createElement('div');\r\n    overlay.classList.add('message-overlay');\r\n\r\n    let notifyStyles = {\r\n        position: isFixed ? 'fixed' : 'absolute',\r\n        backgroundColor: bgColors[type],\r\n        color: colors[type],\r\n    };\r\n\r\n    overlay.addEventListener('click', removeMessage);\r\n    okButton.addEventListener('click', removeMessage);\r\n\r\n    messageWindow.appendChild(messageText);\r\n    messageWindow.appendChild(okButton);\r\n    if (type === 'confirm') {\r\n        let cancelButton = document.createElement('button');\r\n        cancelButton.classList.add('message-button', 'button_neg-confirm-theme');\r\n        cancelButton.innerHTML = 'Отмена';\r\n        messageWindow.appendChild(cancelButton);\r\n\r\n        okButton.removeEventListener('click', removeMessage);\r\n        cancelButton.addEventListener('click', removeMessage);\r\n        okButton.addEventListener('click', function (event) {\r\n            event.preventDefault();\r\n            removeMessage(event);\r\n            cb();\r\n        })\r\n    }\r\n\r\n    Object.assign(messageWindow.style, notifyStyles);\r\n\r\n    element.insertBefore(messageWindow, element.firstElementChild);\r\n    element.insertBefore(overlay, messageWindow);\r\n\r\n    function removeMessage(event) {\r\n        event.preventDefault();\r\n        element.removeChild(messageWindow);\r\n        element.removeChild(overlay);\r\n    }\r\n}\r\n"]}